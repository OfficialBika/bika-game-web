<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BIKA Rocket Gift</title>
  <meta name="theme-color" content="#050608" />
  <style>
    :root{
      --bg0:#050608;
      --bg1:#050608;
      --card:#111318;
      --card-soft:#171a21;
      --stroke:rgba(255,255,255,.08);
      --text:#f5f7ff;
      --muted:#9aa3c7;
      --accent:#33b5ff;
      --accent2:#7c4dff;
      --good:#3ae39b;
      --bad:#ff5c7a;
      --radius:18px;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",Roboto,system-ui;
      color:var(--text);
      background:
        radial-gradient(900px 700px at 0 0, rgba(124,77,255,.35), transparent 60%),
        radial-gradient(900px 700px at 100% 0, rgba(51,181,255,.35), transparent 60%),
        #050608;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      padding:10px 10px 0;
    }

    .app{
      max-width:520px;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      height:100vh;
    }

    /* Top bar */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:8px 4px 6px;
    }
    .backBtn{
      display:flex;
      align-items:center;
      gap:6px;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.08);
      font-size:12px;
      color:var(--text);
    }
    .backBtn span.icon{
      width:18px;height:18px;border-radius:999px;
      display:grid;place-items:center;
      background:rgba(255,255,255,.10);
      font-size:13px;
    }
    .balanceBox{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .chipBalance{
      display:flex;align-items:center;gap:6px;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.11);
      font-size:12px;
    }
    .chipBalance span.icon{
      width:18px;height:18px;border-radius:999px;
      display:grid;place-items:center;
      background:radial-gradient(circle at 30% 30%,#33b5ff,#7c4dff);
      font-size:11px;
    }
    .balanceBox button{
      width:26px;height:26px;border-radius:999px;
      border:none;
      background:rgba(255,255,255,.1);
      display:grid;place-items:center;
      color:var(--text);
      font-size:17px;
    }

    /* Game header */
    .gameHead{
      margin-top:4px;
      padding:6px 6px 4px;
      display:flex;
      justify-content:center;
      position:relative;
    }
    .giftTag{
      padding:4px 10px;
      border-radius:999px;
      background:linear-gradient(120deg,#7c4dff,#b162ff);
      font-size:13px;
      font-weight:600;
      display:flex;align-items:center;gap:6px;
      box-shadow:0 8px 25px rgba(0,0,0,.8);
    }
    .giftTag span.emoji{font-size:16px;}

    /* Timer section */
    .timerWrap{
      margin-top:8px;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .timerCircle{
      width:200px;
      height:200px;
      border-radius:50%;
      background:radial-gradient(circle at 50% 40%,#222633,#050608 70%);
      display:grid;
      place-items:center;
      position:relative;
      box-shadow:0 12px 40px rgba(0,0,0,.9);
    }
    .timerRing{
      position:absolute;
      inset:6px;
      border-radius:50%;
      background:
        conic-gradient(#ff9a4b calc(var(--pct,0)*1%), rgba(255,255,255,.04) 0);
    }
    .timerCore{
      position:absolute;
      inset:16px;
      border-radius:50%;
      background:radial-gradient(circle at 50% 30%,#111319,#050608 70%);
      display:grid;place-items:center;
    }
    .timerNumber{
      font-size:54px;
      font-weight:800;
    }
    .timerLabel{
      font-size:12px;
      color:var(--muted);
      margin-top:4px;
    }

    /* Bet row */
    .betRow{
      margin-top:10px;
      display:flex;
      justify-content:center;
      gap:6px;
      flex-wrap:wrap;
    }
    .betTag{
      padding:5px 12px;
      border-radius:999px;
      background:#153157;
      border:1px solid rgba(96,154,255,.9);
      font-size:12px;
      font-weight:700;
    }
    .multiChip{
      padding:5px 10px;
      border-radius:999px;
      font-size:12px;
      background:rgba(33,39,52,1);
      border:1px solid rgba(122,186,108,.6);
      color:#a6f5bf;
    }
    .multiChip.red{
      border-color:rgba(255,121,121,.7);
      color:#ffb4c0;
    }
    .multiChip.purple{
      border-color:rgba(156,129,255,.75);
      color:#e6dbff;
    }

    /* Place bet button */
    .placeWrap{
      margin-top:12px;
      padding:0 6px;
    }
    .placeBtn{
      width:100%;
      border:none;
      border-radius:18px;
      padding:12px;
      font-size:16px;
      font-weight:700;
      color:#ffffff;
      background:linear-gradient(135deg,#008dff,#2a5bff);
      box-shadow:0 12px 40px rgba(0,0,0,.85);
    }
    .placeBtn:active{
      transform:scale(.98);
    }

    /* Round info */
    .roundInfo{
      margin-top:8px;
      text-align:center;
      font-size:12px;
      color:var(--muted);
    }
    .roundInfo strong{color:var(--accent);}

    /* Player list */
    .playersCard{
      margin-top:12px;
      flex:1;
      background:var(--card);
      border-radius:20px 20px 0 0;
      border-top:1px solid rgba(255,255,255,.06);
      padding:10px 10px 4px;
      display:flex;
      flex-direction:column;
      overflow:hidden;
    }
    .playersHead{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:6px;
    }
    .playersHead h3{
      margin:0;
      font-size:13px;
    }
    .playersHead span{
      font-size:11px;
      color:var(--muted);
    }
    .playerList{
      overflow-y:auto;
      padding-right:2px;
    }
    .playerItem{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      border-radius:14px;
      padding:8px 10px;
      background:var(--card-soft);
      border:1px solid rgba(255,255,255,.04);
      margin-bottom:6px;
    }
    .playerLeft{
      display:flex;
      align-items:center;
      gap:8px;
      min-width:0;
    }
    .avatar{
      width:32px;height:32px;border-radius:999px;
      background:radial-gradient(circle at 30% 30%,#33b5ff,#7c4dff);
      display:grid;place-items:center;
      font-size:15px;
      font-weight:700;
      color:#fff;
    }
    .playerMeta{
      display:flex;flex-direction:column;
      min-width:0;
    }
    .playerMeta b{
      font-size:13px;
      white-space:nowrap;
      text-overflow:ellipsis;
      overflow:hidden;
      max-width:160px;
    }
    .playerMeta span{
      font-size:11px;
      color:var(--muted);
    }
    .playerRight{
      text-align:right;
      font-size:12px;
    }
    .playerRight .amount{
      padding:4px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.06);
      display:inline-flex;
      align-items:center;
      gap:6px;
      margin-bottom:2px;
    }
    .playerRight .amount span.icon{
      width:18px;height:18px;border-radius:999px;
      display:grid;place-items:center;
      background:radial-gradient(circle at 30% 30%,#33b5ff,#7c4dff);
      font-size:11px;
    }
    .playerRight .multi{
      font-size:11px;
      color:var(--muted);
    }
    .playerRight .you{
      font-size:11px;
      color:var(--good);
      font-weight:600;
    }

    /* Bottom nav */
    .bottomNav{
      height:52px;
      border-top:1px solid rgba(255,255,255,.08);
      background:rgba(7,8,12,.96);
      display:flex;
      align-items:center;
      justify-content:space-around;
      padding:2px 6px 3px;
    }
    .navItem{
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:2px;
      font-size:10px;
      color:var(--muted);
    }
    .navItem span.icon{
      width:24px;height:24px;border-radius:999px;
      background:rgba(255,255,255,.06);
      display:grid;place-items:center;
      font-size:14px;
    }
    .navItem.active span.icon{
      background:linear-gradient(135deg,#008dff,#2a5bff);
      color:#fff;
    }
    .navItem.active{
      color:#ffffff;
    }

    @media (min-height:740px){
      .timerCircle{width:220px;height:220px;}
    }
  </style>
</head>
<body>
<div class="app">
  <!-- Top bar -->
  <div class="topbar">
    <button class="backBtn" onclick="window.location.href='index.html'">
      <span class="icon">‚Üê</span>
      <span>Back</span>
    </button>
    <div class="balanceBox">
      <div class="chipBalance" id="uiBalance">
        <span class="icon">‚óÜ</span>
        <span id="balanceText">0.60</span>
      </div>
      <button>+</button>
    </div>
  </div>

  <!-- Game title -->
  <div class="gameHead">
    <div class="giftTag">
      <span class="emoji">üéÅ</span>
      <span>Epic Gift</span>
    </div>
  </div>

  <!-- Timer -->
  <div class="timerWrap">
    <div class="timerCircle">
      <div class="timerRing" id="timerRing"></div>
      <div class="timerCore">
        <div class="timerNumber" id="timerNumber">8</div>
        <div class="timerLabel" id="timerLabel">Next round in</div>
      </div>
    </div>
  </div>

  <!-- Bets -->
  <div class="betRow">
    <div class="betTag">BET</div>
    <div class="multiChip">1.64x</div>
    <div class="multiChip">3.12x</div>
    <div class="multiChip purple">7.03x</div>
    <div class="multiChip red">1.04x</div>
    <div class="multiChip">1.85x</div>
  </div>

  <div class="placeWrap">
    <button class="placeBtn" id="placeBtn">Place bet</button>
  </div>

  <div class="roundInfo" id="roundInfo">
    Round #<strong id="roundNo">1</strong> ‚Ä¢ Waiting for bets‚Ä¶
  </div>

  <!-- Players list -->
  <div class="playersCard">
    <div class="playersHead">
      <h3>Players</h3>
      <span id="playerCount">4 players joined</span>
    </div>
    <div class="playerList" id="playerList">
      <!-- Players will be injected here -->
    </div>
  </div>

  <!-- Bottom nav -->
  <nav class="bottomNav">
    <div class="navItem">
      <span class="icon">üéí</span>
      <span>Backpack</span>
    </div>
    <div class="navItem">
      <span class="icon">üë•</span>
      <span>Invite</span>
    </div>
    <div class="navItem active" onclick="window.location.href='rocket.html'">
      <span class="icon">üè†</span>
      <span>Home</span>
    </div>
    <div class="navItem">
      <span class="icon">üèÜ</span>
      <span>Leaderboard</span>
    </div>
    <div class="navItem">
      <span class="icon">üí∞</span>
      <span>Earn</span>
    </div>
  </nav>
</div>

<script>
  // ===== Demo state =====
  const ROUND_DURATION = 10; // seconds
  let remaining = ROUND_DURATION;
  let roundNo = 1;
  let timerId = null;
  let hasBetThisRound = false;
  let balance = 0.60; // demo balance (diamonds)
  const balanceText = document.getElementById("balanceText");
  const timerNumber = document.getElementById("timerNumber");
  const timerRing = document.getElementById("timerRing");
  const timerLabel = document.getElementById("timerLabel");
  const roundInfo = document.getElementById("roundInfo");
  const roundNoEl = document.getElementById("roundNo");
  const placeBtn = document.getElementById("placeBtn");
  const playerListEl = document.getElementById("playerList");
  const playerCountEl = document.getElementById("playerCount");

  const demoPlayers = [
    { name:"AMIR HOSSEIN", amount:0.60, multi:"√ó1.00" },
    { name:"sam", amount:1.50, multi:"√ó1.00" },
    { name:"BLACK", amount:1.00, multi:"√ó1.00" },
    { name:"Abu üê±", amount:0.78, multi:"√ó1.00" },
  ];

  function fmt(x){
    return Number(x).toFixed(2);
  }

  function renderPlayers(){
    const all = [...demoPlayers];
    if (hasBetThisRound){
      all.unshift({ name:"You", amount:0.01, multi:"√ó1.00", you:true });
    }
    playerListEl.innerHTML = all.map(p => `
      <div class="playerItem">
        <div class="playerLeft">
          <div class="avatar">${p.name[0] || "?"}</div>
          <div class="playerMeta">
            <b>${p.name}</b>
            <span>${p.you ? "Your bet" : "Joined this round"}</span>
          </div>
        </div>
        <div class="playerRight">
          <div class="amount">
            <span class="icon">‚óÜ</span>
            <span>${fmt(p.amount)}</span>
          </div>
          <div class="multi">${p.multi} ${p.you ? '<span class="you">YOU</span>' : ""}</div>
        </div>
      </div>
    `).join("");
    playerCountEl.textContent = `${all.length} players joined`;
  }

  function updateBalanceUI(){
    balanceText.textContent = fmt(balance);
  }

  function updateTimerUI(){
    timerNumber.textContent = remaining;
    const pct = ((ROUND_DURATION - remaining) / ROUND_DURATION);
    timerRing.style.setProperty("--pct", pct * 100);
    if (remaining <= 0){
      timerLabel.textContent = "Opening gift‚Ä¶";
    }else{
      timerLabel.textContent = hasBetThisRound ? "Your bet is locked" : "Next round in";
    }
  }

  function startTimer(){
    clearInterval(timerId);
    remaining = ROUND_DURATION;
    updateTimerUI();
    timerId = setInterval(() => {
      remaining--;
      if (remaining <= 0){
        remaining = 0;
        updateTimerUI();
        clearInterval(timerId);
        resolveRound();
      }else{
        updateTimerUI();
      }
    }, 1000);
  }

  function resolveRound(){
    // Random multiplier between 1.01 and ~8x
    const multi = (1 + Math.random() * 7).toFixed(2);
    const multiText = `${multi}x`;
    roundInfo.innerHTML = `Round #<strong>${roundNo}</strong> ‚Ä¢ Result: <strong>${multiText}</strong>`;

    if (hasBetThisRound){
      const win = 0.01 * multi;
      balance += win;
      updateBalanceUI();
      placeBtn.textContent = `You won ${win.toFixed(3)} ‚óÜ`;
    }else{
      placeBtn.textContent = "Place bet";
    }

    // Reset bet for next round
    hasBetThisRound = false;
    renderPlayers();

    // Start next round after short delay
    setTimeout(() => {
      roundNo++;
      roundNoEl.textContent = roundNo;
      roundInfo.innerHTML = `Round #<strong>${roundNo}</strong> ‚Ä¢ Waiting for bets‚Ä¶`;
      placeBtn.textContent = "Place bet";
      startTimer();
    }, 2000);
  }

  placeBtn.addEventListener("click", () => {
    if (hasBetThisRound){
      // already placed
      return;
    }
    hasBetThisRound = true;
    roundInfo.innerHTML = `Round #<strong>${roundNo}</strong> ‚Ä¢ Bet placed: <strong>0.01 ‚óÜ</strong>`;
    placeBtn.textContent = "Bet placed";
    renderPlayers();
  });

  // Init
  updateBalanceUI();
  renderPlayers();
  startTimer();
</script>
</body>
</html>
