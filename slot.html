<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BIKA Slot Demo</title>
  <meta name="theme-color" content="#070b17" />
  <style>
    :root{
      --bg0:#070b17; --bg1:#0b1020;
      --card: rgba(17, 26, 51, .85);
      --stroke: rgba(36,48,90,.9);
      --text:#eaf0ff; --muted:#9fb0ff;
      --good:#38f6b2; --bad:#ff5c7a; --warn:#ffd37a;
      --shadow: 0 20px 60px rgba(0,0,0,.6);
      --radius: 22px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 10% 0%, rgba(104,131,255,.2), transparent 60%),
        radial-gradient(900px 600px at 90% 30%, rgba(56,246,178,.15), transparent 60%),
        linear-gradient(180deg,var(--bg0),var(--bg1));
      min-height:100vh;
      padding:18px 14px 22px;
    }
    .wrap{ max-width:1000px; margin:0 auto; display:flex; flex-direction:column; gap:14px; position:relative; z-index:1; }

    header{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:12px 14px;
      border-radius:999px;
      background: linear-gradient(120deg, rgba(8,13,32,.95), rgba(21,35,78,.92));
      border:1px solid rgba(90,110,200,.75);
      box-shadow:0 16px 50px rgba(0,0,0,.6);
      position:sticky; top:0; z-index:5;
    }
    @media(max-width:640px){ header{ border-radius:20px; flex-wrap:wrap; } }
    .logo{ width:32px;height:32px;border-radius:12px;background:radial-gradient(circle at 30% 30%,rgba(56,246,178,.95),transparent 55%),radial-gradient(circle at 70% 70%,rgba(104,131,255,.95),transparent 55%);border:1px solid rgba(255,255,255,.2); }
    .titleBox{ display:flex;flex-direction:column; }
    .titleBox h1{ margin:0;font-size:16px; }
    .titleBox span{ font-size:11px;color:var(--muted);}
    nav{ display:flex;gap:6px;flex-wrap:wrap;margin-left:auto; }
    nav a{
      font-size:11px; text-decoration:none; color:var(--muted);
      padding:5px 9px; border-radius:999px;
      border:1px solid rgba(120,140,220,.6);
      background:rgba(8,13,32,.96);
    }
    nav a.active{
      color:var(--text);
      background:linear-gradient(120deg,rgba(104,131,255,.7),rgba(56,246,178,.6));
      border-color:transparent;
      font-weight:700;
    }

    .card{
      border-radius:var(--radius);
      border:1px solid var(--stroke);
      background: radial-gradient(130% 220% at 0 0, rgba(104,131,255,.3), transparent 60%), rgba(8,11,28,.98);
      padding:14px 14px 16px;
      box-shadow:var(--shadow);
    }
    .cardTitle{ display:flex;justify-content:space-between;gap:10px;align-items:flex-end;margin-bottom:10px;}
    .cardTitle h2{ margin:0;font-size:17px;}
    .cardTitle span{ font-size:11px;color:var(--muted);}
    .row{ display:flex;flex-wrap:wrap;gap:8px;align-items:center;}
    .row>*{ flex:1;min-width:150px;}

    /* Wallet / bet panel */
    .walletRow{ display:flex;flex-wrap:wrap;gap:8px;margin-top:6px;}
    .walletBox{
      flex:1;min-width:160px;
      padding:10px 12px;border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(6,10,26,.96);
      font-size:12px;
    }
    .walletMain{display:flex;justify-content:space-between;align-items:center;gap:6px;}
    .walletMain b{font-size:15px;}
    .walletMain span{font-size:11px;color:var(--muted);}
    .walletMMK{font-size:18px;font-weight:900;}
    .walletMMK small{font-size:11px;color:var(--muted);font-weight:600;}

    .betRow{ display:flex;flex-wrap:wrap;gap:6px;margin-top:6px;}
    .betTag{font-size:11px;color:var(--muted);margin-bottom:4px;}
    .chip{
      flex:0 0 auto;
      padding:6px 10px;border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(10,16,32,.98);
      font-size:11px;font-weight:700;
      cursor:pointer;
    }
    .chip.active{
      border-color:rgba(104,131,255,.9);
      background:linear-gradient(120deg,rgba(104,131,255,.7),rgba(56,246,178,.5));
      color:var(--bg0);
    }

    input[type="number"]{
      width:100%;
      padding:8px 10px;border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(10,16,32,.96);
      color:var(--text);outline:none;font-size:12px;
    }
    input[type="number"]:focus{
      border-color:rgba(104,131,255,.9);
      box-shadow:0 0 0 3px rgba(104,131,255,.35);
    }

    button{
      appearance:none;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.16);
      padding:10px 12px;
      background:linear-gradient(180deg,rgba(104,131,255,.5),rgba(9,14,34,.98));
      color:var(--text);
      font-weight:800;
      font-size:13px;
      letter-spacing:.2px;
      cursor:pointer;
      box-shadow:0 18px 55px rgba(0,0,0,.7);
      transition:transform .12s ease, box-shadow .12s ease,border-color .12s ease;
    }
    button:active{ transform:translateY(0) scale(.97); box-shadow:0 10px 30px rgba(0,0,0,.7);}
    button:hover{ transform:translateY(-1px); box-shadow:0 22px 60px rgba(0,0,0,.8); border-color:rgba(104,131,255,.9);}
    button.secondary{ background:linear-gradient(180deg,rgba(255,255,255,.14),rgba(9,14,34,.98));}

    /* Slot machine */
    .slotGrid{
      margin-top:10px;
      border-radius:20px;
      border:1px solid rgba(255,255,255,.18);
      background:radial-gradient(circle at 0 0,rgba(255,255,255,.12),transparent 60%),rgba(6,9,24,.98);
      padding:12px 10px 14px;
      position:relative;
      overflow:hidden;
    }
    .slotReels{
      display:grid;
      grid-template-columns:repeat(5,1fr);
      gap:7px;
    }
    .reelCell{
      height:64px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(4,7,20,.96);
      display:grid;place-items:center;
      font-size:30px;
    }
    .reelCell.spin{ animation:slotSpin .6s ease-in-out infinite;}
    @keyframes slotSpin{
      0%{ transform:translateY(0); filter:blur(0);}
      50%{ transform:translateY(-4px); filter:blur(.5px);}
      100%{ transform:translateY(0); filter:blur(0);}
    }
    .payline{
      position:absolute;left:8px;right:8px;top:50%;height:2px;
      background:linear-gradient(90deg,rgba(255,255,255,.1),rgba(255,255,255,.6),rgba(255,255,255,.1));
      opacity:.4;pointer-events:none;
    }

    .spinRow{
      margin-top:10px;
      display:flex;flex-wrap:wrap;gap:8px;align-items:center;
    }
    .spinRow small{font-size:11px;color:var(--muted);}
    .infoText{font-size:11px;color:var(--muted);margin-top:6px;}

    /* result */
    .resultBox{
      margin-top:8px;
      padding:8px 10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(6,10,26,.96);
      font-size:12px;
      display:flex;justify-content:space-between;gap:6px;flex-wrap:wrap;
    }
    .resultMain b{display:block;font-size:13px;}
    .resultMain span{font-size:11px;color:var(--muted);}
    .resultWin{font-size:15px;font-weight:900;}
    .resultWin.good{color:var(--good);}
    .resultWin.bad{color:var(--bad);}

    .toast{
      position:fixed;left:50%;bottom:16px;transform:translateX(-50%);
      padding:9px 11px;border-radius:15px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(5,7,18,.96);
      box-shadow:0 18px 55px rgba(0,0,0,.8);
      font-size:12px;font-weight:800;
      display:none;z-index:10;
    }
    .toast.show{display:block;animation:pop .18s ease-out;}
    @keyframes pop{from{transform:translateX(-50%) translateY(8px);opacity:.2;}to{transform:translateX(-50%) translateY(0);opacity:1;}}
    .toast small{display:block;margin-top:2px;color:var(--muted);font-weight:600;}

    footer{margin-top:14px;text-align:center;font-size:11px;color:rgba(159,176,255,.8);}
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <div style="display:flex;align-items:center;gap:8px;">
      <div class="logo"></div>
      <div class="titleBox">
        <h1>BIKA Slot Demo</h1>
        <span>Practice mode ¬∑ MMK balance is local-only</span>
      </div>
    </div>
    <nav>
      <a href="index.html">Dashboard</a>
      <a href="slot.html" class="active">Slot</a>
      <a href="rocket.html">Rocket</a>
    </nav>
  </header>

  <main class="card">
    <div class="cardTitle">
      <div>
        <h2>üé∞ Neon Fruits</h2>
        <span>Single payline (middle row) ¬∑ 3 of a kind ‚áí win</span>
      </div>
      <button class="secondary" onclick="resetDemo()">Reset Demo</button>
    </div>

    <!-- Wallet + bet -->
    <div class="walletRow">
      <div class="walletBox">
        <div class="walletMain">
          <div>
            <b id="demoBalanceText">50,000 MMK</b>
            <span>Demo balance (local)</span>
          </div>
          <div class="walletMMK"><small>Balance</small></div>
        </div>
      </div>
      <div class="walletBox">
        <div class="betTag">Bet per spin</div>
        <div class="betRow">
          <button class="chip active" data-bet="100" onclick="setBetChip(this)">100</button>
          <button class="chip" data-bet="500" onclick="setBetChip(this)">500</button>
          <button class="chip" data-bet="1000" onclick="setBetChip(this)">1,000</button>
          <button class="chip" data-bet="5000" onclick="setBetChip(this)">5,000</button>
        </div>
        <div style="margin-top:6px;">
          <input type="number" id="customBet" min="50" step="50" placeholder="Custom bet (MMK)" oninput="customBetChanged(this.value)" />
        </div>
      </div>
    </div>

    <!-- Slot machine -->
    <div class="slotGrid">
      <div class="slotReels" id="slotReels">
        <!-- 5 x 3 = 15 cells -->
      </div>
      <div class="payline"></div>
    </div>

    <div class="spinRow">
      <button id="spinBtn" onclick="spin()">SPIN</button>
      <button class="secondary" onclick="autoToggle()" id="autoBtn">Auto: OFF</button>
      <div style="flex:1;min-width:140px;">
        <small id="hint">Tip: 3 same symbols on the middle row = win.</small>
      </div>
    </div>

    <div class="resultBox">
      <div class="resultMain">
        <b id="resultTitle">Ready to spin</b>
        <span id="resultDesc">Demo only ‚Äì does not use your real BIKA wallet.</span>
      </div>
      <div class="resultWin" id="resultWin">Win 0</div>
    </div>

    <p class="infoText">
      ·Ä§ Slot Demo ·ÄÄ practice mode ·Äû·Ä¨·Äñ·Äº·ÄÖ·Ä∫·Äï·Äº·ÄÆ·Ä∏ Telegram Bot Wallet ·ÄÄ·Ä≠·ÄØ ·Äô·Äë·Ä≠·Äï·Ä´·Äò·Ä∞·Ä∏·Åã
      ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏ Real Slot ·ÄÄ·Ä≠·ÄØ·ÄÅ·Äª·Ä≠·Äê·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äô·Äö·Ä∫·ÄÜ·Ä≠·ÄØ·Äõ·ÄÑ·Ä∫ Bet / Win ·Äê·ÄΩ·Ä±·ÄÄ·Ä≠·ÄØ API ·Äî·Ä≤·Ä∑ ·ÄÅ·Äª·Ä≠·Äê·Ä∫·ÄÜ·ÄÄ·Ä∫·Äï·Ä±·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äô·Äö·Ä∫·Åã
    </p>
  </main>

  <footer>BIKA Slot Demo ‚Ä¢ Built for mobile ‚Ä¢ Telegram: @Official_Bika</footer>
</div>

<div class="toast" id="toast"></div>

<script>
  const SYMS = ["üçí","üçã","üçâ","üîî","‚≠ê","7Ô∏è‚É£","üíé"];
  const MULTIPLIERS = {
    "üçí": 3,
    "üçã": 4,
    "üçâ": 5,
    "üîî": 6,
    "‚≠ê": 8,
    "7Ô∏è‚É£": 12,
    "üíé": 18
  };

  let demoBalance = 50000;
  let currentBet = 100;
  let spinning = false;
  let autoMode = false;
  let autoTimer = null;

  const reelsEl = document.getElementById("slotReels");
  const balanceText = document.getElementById("demoBalanceText");
  const resultTitle = document.getElementById("resultTitle");
  const resultDesc = document.getElementById("resultDesc");
  const resultWin = document.getElementById("resultWin");
  const hint = document.getElementById("hint");
  const spinBtn = document.getElementById("spinBtn");

  function fmt(n){
    const x = Number(n||0);
    return x.toLocaleString("en-US");
  }

  function toast(title,msg){
    const t = document.getElementById("toast");
    t.innerHTML = title + (msg ? "<small>"+msg+"</small>" : "");
    t.classList.add("show");
    clearTimeout(window.__toastT);
    window.__toastT = setTimeout(()=>t.classList.remove("show"),2200);
  }

  function initGrid(){
    reelsEl.innerHTML = "";
    for (let i=0;i<15;i++){
      const c = document.createElement("div");
      c.className = "reelCell";
      c.textContent = SYMS[Math.floor(Math.random()*SYMS.length)];
      reelsEl.appendChild(c);
    }
    updateBalanceText();
  }

  function updateBalanceText(){
    balanceText.textContent = fmt(demoBalance) + " MMK";
  }

  function setBetChip(btn){
    document.querySelectorAll(".chip").forEach(c=>c.classList.remove("active"));
    btn.classList.add("active");
    currentBet = Number(btn.dataset.bet || 0);
    document.getElementById("customBet").value = "";
    hint.textContent = "Bet per spin: " + fmt(currentBet) + " MMK";
  }

  function customBetChanged(v){
    const val = Number(v || 0);
    if (!val) return;
    currentBet = Math.max(50, Math.floor(val));
    document.querySelectorAll(".chip").forEach(c=>c.classList.remove("active"));
    hint.textContent = "Custom bet: " + fmt(currentBet) + " MMK";
  }

  function resetDemo(){
    demoBalance = 50000;
    autoOff();
    updateBalanceText();
    resultTitle.textContent = "Demo reset";
    resultDesc.textContent = "Balance restored to 50,000 MMK.";
    resultWin.textContent = "Win 0";
    resultWin.className = "resultWin";
    hint.textContent = "Tip: 3 same symbols on the middle row = win.";
    toast("Reset","Demo balance restored");
  }

  function pickSym(){
    return SYMS[Math.floor(Math.random()*SYMS.length)];
  }

  async function spin(){
    if (spinning) return;
    if (currentBet <= 0){
      toast("Invalid bet","Bet amount is zero.");
      return;
    }
    if (demoBalance < currentBet){
      toast("Balance low","Not enough demo balance.");
      resultTitle.textContent = "Insufficient balance";
      resultDesc.textContent = "Try lowering the bet or reset demo.";
      resultWin.textContent = "Win 0";
      resultWin.className = "resultWin bad";
      autoOff();
      return;
    }

    spinning = true;
    demoBalance -= currentBet;
    updateBalanceText();

    resultTitle.textContent = "Spinning‚Ä¶";
    resultDesc.textContent = "Good luck!";
    resultWin.textContent = "Win 0";
    resultWin.className = "resultWin";

    const cells = Array.from(reelsEl.children);
    cells.forEach(c=>c.classList.add("spin"));

    const t0 = Date.now();
    const timer = setInterval(()=>{
      cells.forEach(c=>c.textContent = pickSym());
      if (Date.now()-t0>900) clearInterval(timer);
    },90);

    await new Promise(r=>setTimeout(r,900));
    // stop column by column
    for (let col=0; col<5; col++){
      for (let row=0; row<3; row++){
        const idx = row*5 + col;
        cells[idx].classList.remove("spin");
        cells[idx].textContent = pickSym();
      }
      await new Promise(r=>setTimeout(r,120));
    }

    // middle row indexes: 5..9
    const midSyms = cells.slice(5,10).map(c=>c.textContent);
    let win = 0;
    let msg = "No win. Try again!";
    let cls = "resultWin bad";

    const allSame = midSyms.every(s => s===midSyms[0]);
    if (allSame){
      const sym = midSyms[0];
      const multi = MULTIPLIERS[sym] || 3;
      win = currentBet * multi;
      demoBalance += win;
      updateBalanceText();
      msg = `3√ó ${sym} on middle line ¬∑ x${multi}`;
      cls = "resultWin good";
      toast("WIN!","You won " + fmt(win) + " MMK");
    }else{
      toast("Spin finished","No win this time.");
    }

    resultTitle.textContent = win>0 ? "WIN GLOW ‚ú®" : "Better luck next spin";
    resultDesc.textContent = msg;
    resultWin.textContent = "Win " + fmt(win);
    resultWin.className = cls;

    spinning = false;

    if (autoMode){
      if (demoBalance < currentBet){
        autoOff();
      }else{
        autoTimer = setTimeout(spin, 700);
      }
    }
  }

  function autoToggle(){
    if (autoMode) autoOff();
    else autoOn();
  }

  function autoOn(){
    if (demoBalance < currentBet){
      toast("Auto","Not enough balance for auto-spin.");
      return;
    }
    autoMode = true;
    document.getElementById("autoBtn").textContent = "Auto: ON";
    document.getElementById("autoBtn").classList.add("good");
    toast("Auto spin","Tap again to stop.");
    autoTimer = setTimeout(spin, 300);
  }

  function autoOff(){
    autoMode = false;
    clearTimeout(autoTimer);
    document.getElementById("autoBtn").textContent = "Auto: OFF";
    document.getElementById("autoBtn").classList.remove("good");
  }

  initGrid();
</script>
</body>
</html>
